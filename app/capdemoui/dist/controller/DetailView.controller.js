sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("cap.demo.capdemoui.controller.DetailView",{onInit:function(){var e=new sap.ui.model.json.JSONModel({editButton:true,saveButton:false});this.getView().setModel(e,"oDataModel");var t=this.getOwnerComponent().getRouter();t.getRoute("DetailView").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(e){var t=e.getParameters().arguments.ID;this.getView().bindElement("/Books(ID="+t+")")},onEdit:function(e){this.byId("pageDetail").removeAllContent();if(!this._editFragment){this._editFragment=sap.ui.xmlfragment("cap.demo.capdemoui.fragments.editfragment",this);this.getView().addDependent(this._editFragment)}this.byId("pageDetail").addContent(this._editFragment);this.getView().getModel("oDataModel").getData().editButton=false;this.getView().getModel("oDataModel").getData().saveButton=true;this.getView().getModel("oDataModel").refresh(true)},onSave:function(e){if(this.getView().getModel().getPendingChanges()){var t=this.getOwnerComponent().getModel();t.submitChanges({success:function(e){},error:function(e){}})}this.getView().getModel("oDataModel").getData().editButton=true;this.getView().getModel("oDataModel").getData().saveButton=false;this.getView().getModel("oDataModel").refresh(true);this.byId("pageDetail").removeAllContent();if(!this._displayFragment){this._displayFragment=sap.ui.xmlfragment("cap.demo.capdemoui.fragments.display",this);this.getView().addDependent(this._displayFragment)}else{this._displayFragment.destroy();this._displayFragment=sap.ui.xmlfragment("cap.demo.capdemoui.fragments.display",this);this.getView().addDependent(this._displayFragment)}this.byId("pageDetail").addContent(this._displayFragment)}})});